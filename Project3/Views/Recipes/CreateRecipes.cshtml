@model API.DataModels.Food.RecipeModel

@{
    ViewData["Title"] = "Create Recipe";
    bool isUserLoggedIn = ViewBag.IsUserLoggedIn is bool b && b;
}
@section Styles {
    <link rel="stylesheet" href="~/css/RecipeCreate.css" />
}
<div class="recipe-create-page">
    <div class="recipe-create-shell">
        <header class="recipe-create-header">
            <h2 class="recipe-create-title">Create Recipe</h2>
            <p class="recipe-create-subtitle">
                Fill in the details below to add a new recipe to your library.
            </p>
        </header>
        <div class="container mt-4">
            @if (!isUserLoggedIn)
            {
                @* Show only the login-required modal (no form) *@
                @await Html.PartialAsync("_LoginRequiredModal")
            }
            else
            {
                @* Show the create form partial *@
                @await Html.PartialAsync("_RecipeCreateForm", Model)
            }
        </div>

    </div>
</div>
@section Scripts {
    @if (!isUserLoggedIn)
    {
        <script src="~/js/Login-Modal.js"></script>
    }
    else {
        <script src="~/js/recipe-create.js"></script>
        <script src="~/js/recipe-validation.js"></script>
    }
}
