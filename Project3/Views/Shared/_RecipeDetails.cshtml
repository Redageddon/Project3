@model API.DataModels.Food.RecipeModel
@{ Layout = null; }

@{
    double total = Model.PrepTimeMinutes + Model.CookTimeMinutes;
    
}
<div class="recipe-details-header">
    <div class="recipe-details-title-block">
        <h1 class="recipe-details-title">@Model.Name</h1>
        <div class="recipe-details-meta">
            <span>Difficulty: @Model.Difficulty</span>
            <span>Servings: @Model.Servings</span>
            <span>Prep: @Model.PrepTimeMinutes min</span>
            <span>Cook: @Model.CookTimeMinutes min</span>
            @{
                if(total > 60)
                {
                    double hr = total / 60;
                    double min = total % 60;
                    <span>Total: @hr hours @min min</span>
                }
                else
                {
                    <span>Total: @total min</span>
                }
            }
        </div>
        <div class="recipe-details-tags">
            <span class="recipe-details-chip" 
                  asp-for="@Model.Cuisine"> @Model.Cuisine </span>
            @foreach (var tag in Model.Tags)
            {
                <span class="recipe-details-chip">@tag</span>
            }
        </div>
    </div>

    <div class="recipe-details-image-block">
        <div class="recipe-details-image-wrap">
            <img src="@Model.Image" alt="@Model.Name" />
        </div>
        <div class="recipe-details-rating">
            <div class="recipe-details-rating-score">
                ‚≠ê @Model.Rating.ToString("0.0")
            </div>
            <div class="recipe-details-rating-count">
                @Model.ReviewCount review@(Model.ReviewCount == 1 ? "" : "s")
            </div>
        </div>
    </div>
</div>

<div class="recipe-details-body">
    <section class="recipe-details-section recipe-details-ingredients">
        <h2 class="recipe-details-section-title">Ingredients</h2>
        <ul>
            @foreach (var ingredient in Model.Ingredients)
            {
                <li>@ingredient</li>
            }
        </ul>
    </section>

    <section class="recipe-details-section recipe-details-instructions">
        <h2 class="recipe-details-section-title">Instructions</h2>
        <ol>
            @foreach (var instruction in Model.Instructions)
            {
                <li>@instruction</li>
            }
        </ol>
    </section>
</div>